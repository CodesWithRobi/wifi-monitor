<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>Wi-Fi Monitor</title>
  <style>
    body {
      background: #0e0e10;
      color: #00ffc3;
      font-family: monospace;
      text-align: center;
      padding-top: 50px;
    }

    .bar {
      width: 300px;
      height: 30px;
      margin: 20px auto;
      background: #333;
      border: 2px solid #00ffc3;
      position: relative;
    }

    .fill {
      height: 100%;
      background: limegreen;
      width: 0%;
      transition: width 0.4s ease;
    }
  </style>
</head>

<body>
  <h1>ðŸ“¡ Real-Time Wi-Fi Signal</h1>
  <p id="ssid">SSID: --</p>
  <div class="bar">
    <div class="fill" id="fill"></div>
  </div>
  <p id="signal">Signal: -- dBm</p>
  <p id="timestamp">Time: --</p>

  <script>
    const ws = new WebSocket(`ws://${location.host}`);

    ws.onmessage = (event) => {
      const data = JSON.parse(event.data);
      document.getElementById("ssid").innerText = `SSID: ${data.ssid}`;
      document.getElementById("signal").innerText = `Signal: ${data.signal} dBm`;
      document.getElementById("timestamp").innerText = `Time: ${data.timestamp}`;

      const percent = Math.max(0, Math.min(100, 100 + data.signal));
      const fill = document.getElementById("fill");
      fill.style.width = percent + "%";
      fill.style.background = percent > 70 ? "limegreen" : (percent > 50 ? "gold" : "red");
    };
  </script>
</body>

</html>
